<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="Dashboard">
	<meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">

	<title>商业决策智能分析辅助平台</title>

	<!-- Bootstrap core CSS -->
	<link href="assets/css/bootstrap.css" rel="stylesheet">
	<!--external css-->
	<link href="assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
	<link rel="stylesheet" type="text/css" href="assets/js/gritter/css/jquery.gritter.css" />

	<!-- Custom styles for this template -->
	<link href="assets/css/style.css" rel="stylesheet">
	<link href="assets/css/style-responsive.css" rel="stylesheet">

	<!--Echarts-->
	<script src="https://cdn.bootcss.com/echarts/3.5.2/echarts.common.js"></script>

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

	<section id="container">
		<!-- **********************************************************************************************************************************************************
      TOP BAR CONTENT & NOTIFICATIONS
      *********************************************************************************************************************************************************** -->
		<!--header start-->
		<header class="header black-bg">
			<div class="sidebar-toggle-box">
				<div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>
			</div>
			<!--logo start-->
			<a href="index.html" class="logo"><b>Business Data Analysis</b></a>
			<!--logo end-->
			<div class="top-menu">
				<ul class="nav pull-right top-menu">
					<li><a class="logout" href="login.html">退出</a></li>
				</ul>
			</div>
		</header>
		<!--header end-->

		<!-- **********************************************************************************************************************************************************
      MAIN SIDEBAR MENU
      *********************************************************************************************************************************************************** -->
		<!--sidebar start-->
		<aside>
			<div id="sidebar" class="nav-collapse ">
				<!-- sidebar menu start-->
				<ul class="sidebar-menu" id="nav-accordion">

					<p class="centered">
						<a href="profile.html"><img src="assets/img/ui-sam.jpg" class="img-circle" width="60"></a>
					</p>
					<!--用户名-->
					<h5 class="centered"><script>window.location.href.split("=")[1]</script></h5>

					<li class="mt">
						<a href="index.html">
							<i class="fa fa-desktop"></i>
							<span>我的概览</span>
						</a>
					</li>

					<li class="sub-menu">
						<a href="javascript:;">
							<i class="fa fa-dashboard"></i>
							<span>实时数据</span>
						</a>
						<ul class="sub">
							<li><a href="general.html">客流量</a></li>
							<li><a href="area.html">客流热图</a></li>
							<li><a href="panels.html">Panels</a></li>
						</ul>
					</li>

					<li class="sub-menu">
						<a href="javascript:;">
							<i class="fa fa-bar-chart-o"></i>
							<span>趋势分析</span>
						</a>
						<ul class="sub">
							<li><a href="calendar.html">客流量Calendar</a></li>
							<li><a href="gallery.html">入店量、入店率Gallery</a></li>
							<li><a href="todo_list.html">Todo List</a></li>
						</ul>
					</li>
					<li class="sub-menu">
						<a href="javascript:;">
							<i class="fa fa-book"></i>
							<span>顾客分析</span>
						</a>
						<ul class="sub">
							<li><a href="blank.html">来访周期Blank Page</a></li>
							<li><a href="login.html">新老客户Login</a></li>
							<li><a href="lock_screen.html">顾客活跃度Lock Screen</a></li>
						</ul>
					</li>
					<li class="sub-menu">
						<a class="active" href="javascript:;">
							<i class="fa fa-tasks"></i>
							<span>相关配置</span>
						</a>
						<ul class="sub">
							<li class="active"><a href="form_component.html">探针设备配置</a></li>
						</ul>
					</li>
					<li class="sub-menu">
						<a href="javascript:;">
							<i class="fa fa-th"></i>
							<span>Data Tables</span>
						</a>
						<ul class="sub">
							<li><a href="basic_table.html">Basic Table</a></li>
							<li><a href="responsive_table.html">Responsive Table</a></li>
						</ul>
					</li>
					<li class="sub-menu">
						<a href="javascript:;">
							<i class=" fa fa-bar-chart-o"></i>
							<span>Charts</span>
						</a>
						<ul class="sub">
							<li><a href="morris.html">Morris</a></li>
							<li><a href="chartjs.html">Chartjs</a></li>
						</ul>
					</li>

				</ul>
				<!-- sidebar menu end-->
			</div>
		</aside>
		<!--sidebar end-->

		<!-- **********************************************************************************************************************************************************
      MAIN CONTENT
      *********************************************************************************************************************************************************** -->
		<!--main content start-->
		<section id="main-content">
			<section class="wrapper">
				<div class="row mt">
					<div class="col-lg-6 col-md-6 col-sm-12">
						<!-- REAL TIME PASSENGER FLOW-->
						<!--
						<div class="showback">
							<h4><i class="fa fa-angle-right"></i> 实时客流量</h4>
							<div class="panel-body text-center">
								<div id="realTimePassengerFlow" style="width: 490px;height:305px;"></div>
								<script type="text/javascript">
									// 基于准备好的dom，初始化echarts实例
									var myChart = echarts.init(document.getElementById('realTimePassengerFlow'));

									// 指定图表的配置项和数据
									/*
									function randomData1() {
										now = new Date(+now + oneDay);
										value = value + Math.random() * 21 - 10;
										//return {
											//name: now.toString(),
										//	value: [
            //[now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),
           // Math.round(value)]
										//}
										return [[now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),Math.round(value)]
									}

									var data = [];
									var now = +new Date(1997, 9, 3);
									var oneDay = 24 * 3600 * 1000;
									var value = Math.random() * 1000;
									for (var i = 0; i < 1000; i++) {
										data.push(randomData1());
									}*/
									var passengerFlowData = [];
									setInterval(function(){
										 getPassengerFlowData();
									}, 3000);
									
									var option = {
										title: {
											text: '实时客流量动态折线图'
										},
										tooltip: {
											trigger: 'axis',
											formatter: function (params) {
												param = params[0];
												//var date = new Date(params.name);
												//return date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear() + ' : ' + params.value[1];
												console.log(param);
												return param.value[0]+':'+param.value[1];
											},
											axisPointer: {
												animation: true
											}
										},
										xAxis: {
											type: 'time',
											splitLine: {
												show: false
											}
										},
										yAxis: {
											type: 'value',
											boundaryGap: [0, '100%'],
											splitLine: {
												show: false
											}
										},
										series: [{
											name: '模拟数据',
											type: 'line',
											showSymbol: false,
											hoverAnimation: false,
											data: passengerFlowData,
											lineStyle: {
												normal: {
													color: '#F0805A'
												}
											},
    									}]
									};

									setInterval(function () {

										for (var i = 0; i < 5; i++) {
											passengerFlowData.shift();
											//data.push(randomData1());
										}

										myChart.setOption({
											series: [{
												data: passengerFlowData
											}]
										});
									}, 1000);

									//console.log(data[0]);
									// 使用刚指定的配置项和数据显示图表。
									myChart.setOption(option);
								</script>

							</div>

						</div>-->
						<!--/showback -->

					</div>
					<!--/col-lg-6 -->

					<!--
					<div class="col-lg-6 col-md-6 col-sm-12">

						<div class="showback">
							<h4><i class="fa fa-angle-right"></i> 实时入店量</h4>
							<div class="panel-body text-center">
								<div id="realTimeEnteringFlow" style="width: 490px;height:305px;"></div>
								<script type="text/javascript">
									// 基于准备好的dom，初始化echarts实例
									var myChart2 = echarts.init(document.getElementById('realTimeEnteringFlow'));

									// 指定图表的配置项和数据
									function randomData2() {
										now = new Date(+now + oneDay);
										value = value + Math.random() * 21 - 10;
										return {
											name: now.toString(),
											value: [
            [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),
            Math.round(value)
        ]
										}
									}

									var data = [];
									var now = +new Date(1997, 9, 3);
									var oneDay = 24 * 3600 * 1000;
									var value = Math.random() * 1000;
									for (var i = 0; i < 1000; i++) {
										data.push(randomData2());
									}

									var option = {
										title: {
											text: '实时入店量动态折线图'
										},
										tooltip: {
											trigger: 'axis',
											formatter: function (params) {
												params = params[0];
												var date = new Date(params.name);
												return date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear() + ' : ' + params.value[1];
											},
											axisPointer: {
												animation: false
											}
										},
										xAxis: {
											type: 'time',
											splitLine: {
												show: false
											}
										},
										yAxis: {
											type: 'value',
											boundaryGap: [0, '100%'],
											splitLine: {
												show: false
											}
										},
										series: [{
											name: '实时入店量数据',
											type: 'line',
											showSymbol: false,
											hoverAnimation: false,
											data: data,
											lineStyle: {
												normal: {
													color: '#ED801C'
												}
											},
    									}]
									};

									setInterval(function () {

										for (var i = 0; i < 5; i++) {
											data.shift();
											data.push(randomData2());
										}

										myChart2.setOption({
											series: [{
												data: data
											}]
										});
									}, 1000);

									// 使用刚指定的配置项和数据显示图表。
									myChart2.setOption(option);
								</script>
							</div>
						</div>

					</div>-->
					<!-- /col-lg-6 -->

				</div>
				<!--/ row -->
			</section>
			<!--/wrapper-->
		</section>
		<!-- /MAIN CONTENT -->

		<!--main content end-->
		<!--footer start-->
		<footer class="site-footer">
			<div class="text-center">
				2017 - Geek Pang.is
				<a href="general.html#" class="go-top">
					<i class="fa fa-angle-up"></i>
				</a>
			</div>
		</footer>
		<!--footer end-->
	</section>

	<!-- js placed at the end of the document so the pages load faster -->
	<script src="assets/js/jquery.js"></script>
	<script src="assets/js/jquery-1.8.3.min.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script class="include" type="text/javascript" src="assets/js/jquery.dcjqaccordion.2.7.js"></script>
	<script src="assets/js/jquery.scrollTo.min.js"></script>
	<script src="assets/js/jquery.nicescroll.js" type="text/javascript"></script>


	<!--common script for all pages-->
	<script src="assets/js/common-scripts.js"></script>

	<!--script for this page-->
	<script type="text/javascript" src="assets/js/gritter/js/jquery.gritter.js"></script>
	<script type="text/javascript" src="assets/js/gritter-conf.js"></script>

	<!--实时数据交互-->
	<script type="text/javascript" src="assets/js/passengerFlow.js"></script>

</body>

</html>